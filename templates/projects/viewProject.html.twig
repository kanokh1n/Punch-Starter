{% extends 'base.html.twig' %}

{% block title %}{{ project.getProjectInfo().getTitle() }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/viewProject.css') }}"> <!-- Подключаем специфичные стили для страницы -->
{% endblock %}

{% block navbar %}
{% endblock %}

{% block content %}
    <div class="wrapper">
        <div class="container">

            <div class="container-left">
                <h1>{{ project.getProjectInfo().getTitle() }}</h1>
                <p>{{ project.getProjectInfo().getDescription() }}</p>
            </div>

            <div class="container-right">
                <div class="project-image">
                    {% if project.getProjectInfo().getProjectImg() %}
                        <img src="{{ asset('uploads/' ~ project.getProjectInfo().getProjectImg()) }}" alt="{{ project.getProjectInfo().getTitle() }}">
                    {% endif %}
                </div>
                <div class="details">
                    <p>Текущая сумма: {{ project.getProjectInfo().getCurrentAmount() }}</p>
                    <p>Целевая сумма: {{ project.getProjectInfo().getGoalAmount() }}</p>
                    <p>Лайки: {{ project.getProjectInfo().getLikes() }}</p>
                </div>
            </div>

            <div class="contactR">
                <a href="#" class="btnPurp">Пожертвовать</a>
                <a href="#" class="btnPurp">GitHub</a>
                <a href="#" class="btnPurp">Telegram</a>
                <a href="#" class="btnPurp">VKontakte</a>
            </div>

        </div>

        <div class="containerCom">
            <div>
                <h2>Комментарии</h2>
                <ul>
                    {% for comment in project.comments %}
                        <li>{{ comment.getContent() }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div>
                {% if app.user %}
                    <form method="post" action="{{ path('view_project', {'id': project.getId()}) }}">
                        <textarea name="content" cols="30" rows="5" placeholder="Оставить комментарий..."></textarea>
                        <button type="submit" class="btnPurp">Отправить</button>
                    </form>
                {% else %}
                    <p>Чтобы оставить комментарий, пожалуйста, <a href="{{ path('app_login') }}">войдите</a>.</p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}

